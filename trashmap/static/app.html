<!DOCTYPE html>
<html>
<head>
    <title>Dumpstermap</title>
    <!-- tell the mobile browser to disable unwanted scaling of the page and set it to its actual size -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>

    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,700' rel='stylesheet'>

    <!-- Mapbox -->
    <script src='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' rel='stylesheet'/>

    <!-- Leaflet location plugin -->
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css'
          rel='stylesheet'/>
    <link rel="stylesheet" href="static/css/font-awesome.min.css"/>
    <script src="static/js/L.Control.Locate.min.js"></script>

    <!-- Mapbox Marker Cluster Plugin -->
    <script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/leaflet.markercluster.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.css'
          rel='stylesheet'/>
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v0.4.0/MarkerCluster.Default.css'
          rel='stylesheet'/>

    <!-- Leaflet TileLayer Plugin -->
    <script src="static/js/TileLayer.GeoJSON.js"></script>
    <script src="static/js/TileLayerCluster.GeoJSON.js"></script>


    <!-- Leaflet sidebar plugin -->
    <link rel="stylesheet" href="static/css/leaflet-sidebar.css"/>
    <script src="static/js/leaflet-sidebar.js"></script>

    <!-- handlebars-->
    <script src="http://builds.handlebarsjs.com.s3.amazonaws.com/handlebars-v3.0.3.js"></script>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-2.1.4.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link href='static/css/style.css' rel='stylesheet'/>
</head>
<body>

<!-- Handlebars templates-->

<script id="feature_modal_body" type="text/x-handlebars-template">
    <input type="hidden" id="dumpster_id" value="{{ id }}">

    <div class="dumpster">

        <div class="container" id="votes">
            <div class="row">
                <button type="button" id="btn-upvote" class="btn btn-success btn-vote btn-upvote col-xs-6"
                        dumpster-id="{{ id }}"
                        voting="up"><span class="glyphicon glyphicon-thumbs-up"> </span> <span name="count"
                                                                                               class="badge">{{ upvotes }}</span>
                </button>
                <button type="button" id="btn-downvote" class="btn btn-danger btn-vote btn-downvote col-xs-6"
                        dumpster-id="{{ id }}"
                        voting="down"><span class="glyphicon glyphicon-thumbs-down"> </span> <span name="count"
                                                                                                   class="badge">{{ downvotes }}</span>
                </button>
            </div>

        </div>

        <hr>
        <div id="comment_list">
            {{#each comments}}
            <div class="comment">
                <span name="name"><strong>{{ name }}: </strong>
                </span>
                <span name="comment">{{ comment }}</span>
                <span name="date"><small>({{ date }})</small></span>
            </div>
            {{/each}}
        </div>
    </div>

    <div id="submit_comment>">
        <form class="form-horizontal">
            <fieldset>

                <!-- Text input-->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="name">Name (optional)</label>

                    <div class="controls">
                        <input id="txt_name" name="name" placeholder="Hans Wurst" class="form-control input-sm"
                               type="text">

                    </div>
                </div>

                <!-- Textarea -->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="comment">Kommentar</label>

                    <div class="controls">
                        <textarea class="form-control input-sm" rows="3" id="txt_comment" name="comment"
                                  placeholder="Super Möhren gibt's hier!"></textarea>
                    </div>
                </div>

                <!-- Button -->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="submit"></label>

                    <div class="controls">
                        <button id="btn_comment" name="submit" class="btn btn-default btn-block btn-sm">Abschicken
                        </button>
                    </div>
                </div>

            </fieldset>
        </form>
    </div>


</script>
<script id="dumpster_popup_comments_template" type="text/x-handlebars-template">
    <div class="sidebar-dumpster-comment">
        <span class="message">{{ comment }}</span>
        <br>
        <small class="name">{{ name }}</small>
        <small class="date quiet"> - {{ date }}</small>
    </div>
</script>
<script id="template_dumpster-list-entry" type="text/x-handlebars-template">
    <div class="item">
        <input type="hidden" name="id" value="{{ id }}">
        <a class="title">
            {{ name }}
            <br>
            <small class="quiet">{{ addr:street }}</small>
        </a>
        {{#if good}}<span class="label label-success"><span class="glyphicon glyphicon-thumbs-up"> </span></span>{{/if}}
        {{#if not_good}}<span class="label label-danger"><span
            class="glyphicon glyphicon-thumbs-down"> </span></span>{{/if}}
        <div name="comments">
            {{#if comments.[0]}}
            {{ comments.[0].name }}: {{ comments.[0].comment }}
            {{/if}}

            {{#if comments.[1]}}
            <br>
            {{ comments.[1].name }}: {{ comments.[1].comment }}
            {{/if}}

            {{#if comments.[2]}}
            <br>
            {{ comments.[2].name }}: {{ comments.[2].comment }}
            {{/if}}

        </div>
    </div>
</script>

<!-- Content -->
<nav class="navbar-inverse navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <a class="navbar-brand" href="#"><strong class="title">Trashmaps</strong></a>

            <p class="collapse navbar-collapse navbar-text navbar-right">The world-wide map to dumpster diving</p>
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                    data-target="#navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
        </div>
        <div id="navbar-collapse" class="collapse navbar-collapse navbar-right">
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#" id="btn-about" data-toggle="modal" data-target="#modal-about">About</a></li>
                <li><a href="http://trashwiki.org">Trashwiki.org</a></li>
            </ul>
            <form class="navbar-form navbar-right">
                <button id="btn-add-dumpster" class="btn btn-sm btn-success " type="submit"><span
                        class="glyphicon glyphicon-plus"></span> Add Dumpster
                </button>
            </form>
        </div>

    </div>
    <!-- /.container-fluid -->
</nav>
<div class="content">
    <div id="map" class="map"></div>
    <div id="sidebar2-right" class="sidebar2 hidden">
        <div id="sidebar-dumpster-info">
            <script id="dumpster_popup_template" type="text/x-handlebars-template">

                <input type="hidden" id="dumpster_id" value="{{ id }}">

                <h3 name="heading" class="sidebar-dumpster-info-block">
                    <b>{{ name }} </b> - Supermarkt
                    <br>
                    <small class="quiet">{{ addr:street }} {{ addr:housenumber }}, {{ addr:city }}</small>
                </h3>
                <hr>
                <div name="voting" class="sidebar-dumpster-info-block">
                    <div class="btn-group btn-group-justified" role="group">
                        <a type="button" id="btn-upvote" class="btn btn-success btn-vote btn-upvote" role="button"
                           dumpster-id="{{ id }}"
                           voting="up"><span class="glyphicon glyphicon-thumbs-up"
                                             data-toggle="tooltip" title="Jap, good for dumpsterdiving!"> </span> <span
                                name="count"
                                class="badge">{{ upvotes }}</span>
                        </a>
                        <a type="button" id="btn-downvote" class="btn btn-danger btn-vote btn-downvote" role="button"
                           dumpster-id="{{ id }}"
                           voting="down"><span class="glyphicon glyphicon-thumbs-down"
                                               data-toggle="tooltip"
                                               title="Nö, nichts zu holen hier."> </span> <span name="count"
                                                                                                class="badge">{{ downvotes }}</span>
                        </a>
                    </div>
                </div>
                <hr>
                <div name="comments" class="sidebar-dumpster-info-block">
                    <div id="comment_list">
                        {{#each comments}}
                        <div class="sidebar-dumpster-comment">
                            <span class="message">{{ comment }}</span>
                            <br>
                            <small class="name">{{ name }}</small>
                            <small class="date quiet"> - {{ date }}</small>
                        </div>
                        {{/each}}
                    </div>
                </div>
                <hr>
                <div name="submit-comment" class="sidebar-dumpster-info-block">
                    <div id="submit_comment>">
                        <form class="form-horizontal">
                            <fieldset>


                                <!-- Textarea -->
                                <div class="inpout-group input-group-sm">
                                    <div class="controls">
                        <textarea class="form-control input-sm" rows="3" id="txt_comment" name="comment"
                                  placeholder="Leave a comment ..."></textarea>
                                    </div>
                                </div>
                                <br>
                                <!-- Text input-->
                                <div class="inpout-group input-group-sm">
                                    <div class="controls">
                                        <input id="txt_name" name="name" placeholder="Name (optional)"
                                               class="form-control input-sm"
                                               type="text">

                                    </div>
                                </div>
                                <!-- Button -->
                                <div class="inpout-group input-group-sm">
                                    <label class="control-label" for="submit"></label>

                                    <div class="controls">
                                        <button id="btn_comment" name="submit" class="btn btn-default btn-block btn-sm">
                                            Send
                                        </button>
                                    </div>
                                </div>

                            </fieldset>
                        </form>
                    </div>
                </div>
            </script>

        </div>
    </div>

  <span class="imprint">
    <a href="#" id="imprint" data-toggle="modal" data-target="#modal-about">Impressum</a>
    <a href="#" id="toggle-green">green</a>
    <a href="#" id="toggle-red">red</a>
    <a href="#" id="toggle-grey">grey</a>
  </span>
</div>

<!-- Modal Dumpster dialog -->
<div class="modal fade" id="featureModal" tabindex="-1" role="dialog">
    <!--
        Modal documentation: http://getbootstrap.com/javascript/#modals
    -->
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title text-primary" id="feature-title"></h4>
            </div>
            <div class="modal-body" id="feature-info"></div>
            <!--<div class="modal-footer">-->

        </div>
    </div>
    <!-- /.modal-content -->
</div>
<!-- Modal How TO Add Dumpsters -->
<div class="modal fade" id="add-dumpster-modal" tabindex="-1" role="dialog">
    <!--
        Modal documentation: http://getbootstrap.com/javascript/#modals
    -->
    <div class="modal-dialog">

        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="italic modal-title text-primary"><i>How to add dumpsters</i></h4>
            </div>
            <div class="modal-body ">
                <div>
                    <h3>[Instructions]</h3>
                    <ul>
                        <li>[Instructions]
                        </li>
                    </ul>
                    <p></p>
                    <button style="margin-top:30px;" class="btn btn-success btn-block center-block" type="button"
                            data-dismiss="modal"><b>Got it</b></button>
                </div>
            </div>


            <!--<div class="modal-footer">-->

        </div>

    </div>
    <!-- /.modal-content -->
</div>
<!-- /Model "HowToAddDumpsters" -->
<!-- Modal About -->
<div class="modal fade" id="modal-about" tabindex="-1" role="dialog">
    <!--
        Modal documentation: http://getbootstrap.com/javascript/#modals
    -->
    <div class="modal-dialog">

        <div class="modal-content">
            <div class="modal-header">
                <button class="close" type="button" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 class="italic modal-title text-primary"><i>"One person's trash is another's treasure"</i></h4>
            </div>
            <div class="modal-body ">


                <div>

                    <h3>Welcome to Trashmaps.org, the collaborative world wide guide of creating value from trash!</h3>

                    <p>It is written for and by <a href="/en/Dumpster_diver" title="Dumpster diver">dumpster divers</a>,
                        <a href="/en/Freegan" title="Freegan">freegans</a> and others of such kind.</p>

                    <p> Traditionally, most people who resort to dumpster diving are forced to do so out of economic
                        necessity. The karung guni, the rag and bone man, waste picker, dumpster monkey, junk man or bin
                        hoker are people who make their living by sorting and trading trash.</p>

                    <h3>Some things to keep in mind:</h3>
                    <ul>
                        <li>Bring a bottle of water, to wash your hands when you dive into bags of fruits and
                            vegetables
                        </li>
                        <li>Always make sure you don't make a mess (i.e. open and close bags nicely)</li>
                        <li> In the unlikely case you did not manage to find a couch and need to sleep on the street:
                            Look for recycling bins to get cardboard for sleeping in
                        </li>
                        <li>Dumpster diving may be illegal in certain places, but enforcement is rare. In either case
                            you may want to keep an eye out for police or unsympathetic property owners
                        </li>
                    </ul>
                    <p></p>
                    <button style="margin-top:30px;" class="btn btn-success btn-block center-block" type="button"
                            data-dismiss="modal"><b>D'accord</b></button>
                </div>
            </div>


            <!--<div class="modal-footer">-->

        </div>

    </div>
    <!-- /.modal-content -->
</div>
<!-- /Model About -->
<script src="static/app.js"></script>
<script src="static/API.js"></script>
<script src="static/events.js"></script>
</body>
</html>

