<!DOCTYPE html>
<html>
<head>
    <title>Dumpstermap</title>

    <!-- Mapbox -->
    <script src='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.js'></script>
    <link href='https://api.mapbox.com/mapbox.js/v2.2.1/mapbox.css' rel='stylesheet'/>

    <!--Leaflet
    <link rel="stylesheet" href="css/leaflet.css" />
    <script src="js/leaflet.js"></script>-->

    <!-- Leaflet location plugin -->
    <link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-locatecontrol/v0.43.0/L.Control.Locate.mapbox.css'
          rel='stylesheet'/>
    <link rel="stylesheet" href="static/css/font-awesome.min.css"/>
    <script src="static/js/L.Control.Locate.min.js"></script>

    <!-- Leaflet sidebar plugin -->
    <link rel="stylesheet" href="static/css/leaflet-sidebar.css"/>
    <script src="static/js/leaflet-sidebar.js"></script>

    <!-- handlebars-->
    <script src="http://builds.handlebarsjs.com.s3.amazonaws.com/handlebars-v3.0.3.js"></script>

    <!-- JQuery -->
    <script src="https://code.jquery.com/jquery-2.1.4.js"></script>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">-->
    <link rel="stylesheet" href="https://bootswatch.com/superhero/bootstrap.css">
    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <link href='static/css/style.css' rel='stylesheet'/>
    <link href='static/css/header.css' rel='stylesheet'/>
</head>
<body>
<div id="header" class="hidden-xs">
    <div class="container">
        <div id="header-left">
            <div id="brand">
                <a href="/">
                    <!-- <img src="/static/img/title.png" alt="Dumpstermap"> -->
                    <h1><strong>Müllkarte</strong></h1>
                </a>
            </div>
        </div>

        <div id="header-right">
            <ul class="sitenav">
                <li>
                    <a href="/was">Was ist das?</a>
                </li>
                <li>
                    <a href="impressum">Kontakt</a>
                </li>


                <a href="https://twitter.com/share" target="blank">
                    <i class="fa fa-twitter-square"></i>
                </a>

                <a href="e"
                   target="blank">
                    <i class="fa fa-facebook-square"></i>
                </a>

                <a href=""
                   target="blank">
                    <i class="fa fa-google-plus-square"></i>
                </a>

                <a href="/feeds/">
                    <i class="fa fa-rss-square"></i>
                </a>

            </ul>
        </div>
    </div>
</div>
<!-- Template for marker popups -->
<script id="dumpster_popup_template" type="text/x-handlebars-template">
    <input type="hidden" id="dumpster_id" value="{{ id }}">

    <div class="dumpster">
        <label><h1><b>{{ name }} </b>(Supermarkt)</h1></label>

        <div id="votes">
            <button id="btn-upvote" class="btn btn-success btn-vote btn-upvote   col-md-6" dumpster-id="{{ id }}"
                    voting="up"><span class="glyphicon glyphicon-thumbs-up"> </span> <span name="count"
                                                                                           class="badge">{{ upvotes }}</span>
            </button>
            <button id="btn-downvote" class="btn btn-danger btn-vote btn-downvote col-md-6" dumpster-id="{{ id }}"
                    voting="down"><span class="glyphicon glyphicon-thumbs-down"> </span> <span name="count"
                                                                                               class="badge">{{ downvotes }}</span>
            </button>
        </div>
        <hr>
        <div id="comment_list">
            {{#each comments}}
            <div class="comment">
                <span name="name"><strong>{{ name }}: </strong>
                </span>
                <span name="comment">{{ comment }}</span>
                <span name="date"><small>({{ date }})</small></span>
            </div>
            {{/each}}
        </div>
    </div>

    <div id="submit_comment>">
        <form class="form-horizontal">
            <fieldset>

                <!-- Text input-->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="name">Name (optional)</label>

                    <div class="controls">
                        <input id="txt_name" name="name" placeholder="Hans Wurst" class="form-control input-sm"
                               type="text">

                    </div>
                </div>

                <!-- Textarea -->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="comment">Kommentar</label>

                    <div class="controls">
                        <textarea class="form-control input-sm" rows="3" id="txt_comment" name="comment"
                                  placeholder="Super Möhren gibt's hier!"></textarea>
                    </div>
                </div>

                <!-- Button -->
                <div class="inpout-group input-group-sm">
                    <label class="control-label" for="submit"></label>

                    <div class="controls">
                        <button id="btn_comment" name="submit" class="btn btn-default btn-block btn-sm">Abschicken
                        </button>
                    </div>
                </div>

            </fieldset>
        </form>
    </div>


    </div>
    </div>


</script>

<script id="dumpster_popup_comments_template" type="text/x-handlebars-template">
    <div class="comment">
                <span name="name"><strong>{{ name }}: </strong>
                </span>
        <span name="comment">{{ comment }}</span>
        <span name="date"><small>({{ date }})</small></span>
    </div>
</script>
<script id="template_dumpster-list-entry" type="text/x-handlebars-template">
    <li class="list-group-item  dumpster-list-entry">
        <input type="hidden" name="id" value="{{ id }}">
        <span class="h3"><b>{{ name }}</b></span>
        {{#if good}}<span class="label label-success"><span class="glyphicon glyphicon-thumbs-up"> </span></span>{{/if}}
        {{#if not_good}}<span class="label label-danger"><span
            class="glyphicon glyphicon-thumbs-down"> </span></span>{{/if}}
        <div name="comments">
            {{#if comments.[0]}}
            {{ comments.[0].name }}: {{ comments.[0].comment }}
            {{/if}}

            {{#if comments.[1]}}
            <br>
            {{ comments.[1].name }}: {{ comments.[1].comment }}
            {{/if}}

            {{#if comments.[2]}}
            <br>
            {{ comments.[2].name }}: {{ comments.[2].comment }}
            {{/if}}

        </div>
    </li>
</script>

<div id="map" class="custom-popup"></div>
<!--- Sidebar -->
<div id="sidebar" class="sidebar collapsed">
    <!-- Nav tabs -->
    <div class="sidebar-tabs">
        <ul role="tablist">
            <li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
        </ul>
        <ul role="tablist">
            <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
        </ul>
    </div>

    <!-- Tab panes -->
    <div class="sidebar-content">
        <div class="sidebar-pane" id="home">
            <h1 class="sidebar-header">Container in der Nähe
                <div class="sidebar-close"><i class="fa fa-caret-left"></i></div>
            </h1>
            <ul id="sidebar-dumpster-list" class="list-group">
                <!-- dumpsters in map bound-->

            </ul>
            <div class="dumpster-list">
                <!-- dumpsters in map bound-->

            </div>
        </div>


        <div class="sidebar-pane" id="settings">
            <h1 class="sidebar-header">Settings
                <div class="sidebar-close"><i class="fa fa-caret-left"></i></div>
            </h1>

        </div>
    </div>
</div>
<!-- end sidebar -->
<style>
    pre.ui-coordinates {
        background: rgba(0, 0, 0, 0.5);
        position: absolute;
        bottom: 10px;
        left: 10px;
        padding: 5px 10px;
        color: #fff;
        font-size: 11px;
        line-height: 18px;
        border-radius: 3px;
        max-height: 240px;
        overflow: auto;
        width: 100px;
    }
</style>
<script src="static/app.js"></script>
</body>
</html>

